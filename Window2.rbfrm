#tag WindowBegin Window Window2   BackColor       =   16777215   Backdrop        =   ""   CloseButton     =   True   Composite       =   False   Frame           =   1   FullScreen      =   False   HasBackColor    =   False   Height          =   2.65e+2   ImplicitInstance=   True   LiveResize      =   True   MacProcID       =   0   MaxHeight       =   32000   MaximizeButton  =   False   MaxWidth        =   32000   MenuBar         =   ""   MenuBarVisible  =   True   MinHeight       =   64   MinimizeButton  =   False   MinWidth        =   64   Placement       =   0   Resizeable      =   False   Title           =   "Scrobbler Setup"   Visible         =   True   Width           =   4.77e+2   Begin StaticText StaticText1      AutoDeactivate  =   True      Bold            =   True      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   19      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   20      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Multiline       =   True      Scope           =   0      TabIndex        =   0      TabPanelIndex   =   0      Text            =   "Account Information"      TextAlign       =   0      TextColor       =   0      TextFont        =   "System"      TextSize        =   0      TextUnit        =   0      Top             =   14      Underline       =   ""      Visible         =   True      Width           =   437   End   Begin StaticText StaticText2      AutoDeactivate  =   True      Bold            =   False      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   20      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Multiline       =   ""      Scope           =   0      TabIndex        =   1      TabPanelIndex   =   0      Text            =   "Username:"      TextAlign       =   2      TextColor       =   0      TextFont        =   "System"      TextSize        =   0      TextUnit        =   0      Top             =   38      Underline       =   ""      Visible         =   True      Width           =   100   End   Begin StaticText StaticText3      AutoDeactivate  =   True      Bold            =   False      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   20      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Multiline       =   ""      Scope           =   0      TabIndex        =   2      TabPanelIndex   =   0      Text            =   "Password:"      TextAlign       =   2      TextColor       =   0      TextFont        =   "System"      TextSize        =   0      TextUnit        =   0      Top             =   71      Underline       =   ""      Visible         =   True      Width           =   100   End   Begin TextField TextField1      AcceptTabs      =   ""      Alignment       =   0      AutoDeactivate  =   True      BackColor       =   16777215      Bold            =   ""      Border          =   True      CueText         =   ""      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Format          =   ""      Height          =   22      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   131      LimitText       =   0      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Mask            =   ""      Password        =   ""      ReadOnly        =   ""      Scope           =   0      TabIndex        =   3      TabPanelIndex   =   0      TabStop         =   True      Text            =   ""      TextColor       =   0      TextFont        =   "System"      TextSize        =   0      TextUnit        =   0      Top             =   36      Underline       =   ""      UseFocusRing    =   True      Visible         =   True      Width           =   263   End   Begin TextField TextField2      AcceptTabs      =   ""      Alignment       =   0      AutoDeactivate  =   True      BackColor       =   16777215      Bold            =   ""      Border          =   True      CueText         =   ""      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Format          =   ""      Height          =   22      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   131      LimitText       =   0      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Mask            =   ""      Password        =   True      ReadOnly        =   ""      Scope           =   0      TabIndex        =   4      TabPanelIndex   =   0      TabStop         =   True      Text            =   ""      TextColor       =   0      TextFont        =   "System"      TextSize        =   0      TextUnit        =   0      Top             =   70      Underline       =   ""      UseFocusRing    =   True      Visible         =   True      Width           =   263   End   Begin PushButton PushButton1      AutoDeactivate  =   True      Bold            =   ""      Cancel          =   ""      Caption         =   "Save"      Default         =   True      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   377      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Scope           =   0      TabIndex        =   6      TabPanelIndex   =   0      TabStop         =   True      TextFont        =   "System"      TextSize        =   0      TextUnit        =   0      Top             =   231      Underline       =   ""      Visible         =   True      Width           =   80   End   Begin PushButton PushButton2      AutoDeactivate  =   True      Bold            =   ""      Cancel          =   ""      Caption         =   "Close"      Default         =   ""      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   285      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Scope           =   0      TabIndex        =   7      TabPanelIndex   =   0      TabStop         =   True      TextFont        =   "System"      TextSize        =   0      TextUnit        =   0      Top             =   231      Underline       =   ""      Visible         =   True      Width           =   80   End   Begin StaticText StaticText4      AutoDeactivate  =   True      Bold            =   ""      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   11      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Multiline       =   ""      Scope           =   0      TabIndex        =   8      TabPanelIndex   =   0      Text            =   "Don't have a MyAnimeList Account?"      TextAlign       =   0      TextColor       =   0      TextFont        =   "System"      TextSize        =   0      TextUnit        =   0      Top             =   111      Underline       =   ""      Visible         =   True      Width           =   228   End   Begin StaticText StaticText5      AutoDeactivate  =   True      Bold            =   ""      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   238      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Multiline       =   ""      Scope           =   0      TabIndex        =   9      TabPanelIndex   =   0      Text            =   "Register a New Account"      TextAlign       =   0      TextColor       =   204      TextFont        =   "System"      TextSize        =   0      TextUnit        =   0      Top             =   111      Underline       =   True      Visible         =   True      Width           =   156   End   Begin StaticText loginstatus      AutoDeactivate  =   True      Bold            =   ""      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   57      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Multiline       =   ""      Scope           =   0      TabIndex        =   10      TabPanelIndex   =   0      Text            =   "Signing in..."      TextAlign       =   0      TextColor       =   0      TextFont        =   "System"      TextSize        =   11      TextUnit        =   0      Top             =   229      Underline       =   ""      Visible         =   False      Width           =   216   End   Begin ProgressWheel ProgressWheel1      AutoDeactivate  =   True      Enabled         =   True      Height          =   16      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Left            =   29      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Scope           =   0      TabIndex        =   11      TabPanelIndex   =   0      TabStop         =   True      Top             =   231      Visible         =   False      Width           =   16   End   Begin PushButton PushButton3      AutoDeactivate  =   True      Bold            =   ""      Cancel          =   ""      Caption         =   "Clear Login Info"      Default         =   ""      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   336      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Scope           =   0      TabIndex        =   12      TabPanelIndex   =   0      TabStop         =   True      TextFont        =   "System"      TextSize        =   0      TextUnit        =   0      Top             =   192      Underline       =   ""      Visible         =   True      Width           =   121   End   Begin StaticText StaticText6      AutoDeactivate  =   True      Bold            =   ""      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   38      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   8      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Multiline       =   True      Scope           =   0      TabIndex        =   13      TabPanelIndex   =   0      Text            =   "If you wish to remove your MAL Credentials, you can do it here by pressing ""Clear Login Info"". Remember that you can't undo this once done."      TextAlign       =   0      TextColor       =   0      TextFont        =   "System"      TextSize        =   11      TextUnit        =   0      Top             =   192      Underline       =   ""      Visible         =   True      Width           =   321   End   Begin CheckBox CheckBox1      AutoDeactivate  =   True      Bold            =   ""      Caption         =   "Enable Growl Notifications"      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   20      HelpTag         =   "Enable this if you want to show Growl Notifications (Requires Growl)."      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   131      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Scope           =   0      State           =   0      TabIndex        =   14      TabPanelIndex   =   0      TabStop         =   True      TextFont        =   "System"      TextSize        =   12      TextUnit        =   0      Top             =   133      Underline       =   ""      Value           =   False      Visible         =   True      Width           =   253   End   Begin StaticText StaticText7      AutoDeactivate  =   True      Bold            =   ""      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   16      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   29      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Multiline       =   ""      Scope           =   0      TabIndex        =   15      TabPanelIndex   =   0      Text            =   "Player:"      TextAlign       =   2      TextColor       =   &h000000      TextFont        =   "System"      TextSize        =   12      TextUnit        =   0      Top             =   162      Underline       =   ""      Visible         =   True      Width           =   86   End   Begin PopupMenu PopupMenu1      AutoDeactivate  =   True      Bold            =   ""      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      InitialValue    =   "mplayer\rquicktime\rvlc"      Italic          =   ""      Left            =   131      ListIndex       =   0      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Scope           =   0      TabIndex        =   16      TabPanelIndex   =   0      TabStop         =   True      TextFont        =   "System"      TextSize        =   13      TextUnit        =   0      Top             =   160      Underline       =   ""      Visible         =   True      Width           =   142   EndEnd#tag EndWindow#tag WindowCode	#tag Method, Flags = &h0		Function AuthenticationRequired(headers as internetHeaders, ByRef name as string, ByRef password as string) As boolean		  name =TextField1.text		  password =TextField2.text		  Return True		End Function	#tag EndMethod#tag EndWindowCode#tag Events StaticText2	#tag Event		Function MouseDown(X As Integer, Y As Integer) As Boolean		  // opens browser to MAL register page.		  showURL "http://myanimelist.net/register.php"		End Function	#tag EndEvent#tag EndEvents#tag Events TextField1	#tag Event		Sub Open()		  me.text = app.prefs.root.GetString("Username") 		End Sub	#tag EndEvent#tag EndEvents#tag Events TextField2	#tag Event		Sub Open()		  me.text = DecodeBase64(app.prefs.root.GetString("Password"))		End Sub	#tag EndEvent#tag EndEvents#tag Events PushButton1	#tag Event		Sub Action()		  ProgressWheel1.visible = true		  Loginstatus.visible = true		  Loginstatus.text = "Verifying Login ..."		  If TextField1.text = ""  then		    // no username error		    app.errboxshow("Vertification failed!","You need to enter a username. ")		    ProgressWheel1.visible = false		    Loginstatus.text = "Fail: Check Username/Password..."		  else		    If Textfield2.text="" then		      // no password error		      app.errboxshow("Vertification failed!","You need to enter a password. ")		      Loginstatus.text = "Fail: Check Username/Password..."		    else		      // using API to check credentials		      Dim socket1 as New HTTPSocket		      dim data as string		      socket1.yield=true		      socket1.setrequestheader "Authorization","Basic " + EncodeBase64(TextField1.text + ":" + TextField2.text)		      data = socket1.Get("http://myanimelist.net/api/account/verify_credentials.xml",10)		      If socket1.httpstatuscode = 200 then		        // login is a success		        // Store Password and Username		        app.prefs.root.SetString("Username",TextField1.text) 		        app.prefs.root.SetString("Password",encodebase64(TextField2.text))		        app.prefs.Save		        Window2.close		        window1.checkcred		      Else		        // if login fails		        app.errboxshow("Vertification failed!","Incorrect Username or Password. Check your Username and Password.")		        ProgressWheel1.visible = false		        Loginstatus.text = "Fail: Incorrect Password or Username..."		      end if		    end if		  end if		End Sub	#tag EndEvent#tag EndEvents#tag Events PushButton2	#tag Event		Sub Action()		  Window2.close		End Sub	#tag EndEvent#tag EndEvents#tag Events StaticText5	#tag Event		Function MouseDown(X As Integer, Y As Integer) As Boolean		  ShowURL "http://myanimelist.net/register.php"		  		End Function	#tag EndEvent#tag EndEvents#tag Events PushButton3	#tag Event		Sub Action()		  app.prefs.root.SetString("Username","")		  app.prefs.root.SetString("Password","")		  textfield1.text = ""		  textfield2.text = ""		End Sub	#tag EndEvent#tag EndEvents#tag Events CheckBox1	#tag Event		Sub Action()		  app.prefs.root.SetBoolean("ShowGrowl", me.value)		End Sub	#tag EndEvent	#tag Event		Sub Open()		  me.value = app.prefs.root.GetBoolean("ShowGrowl",false)		End Sub	#tag EndEvent#tag EndEvents#tag Events PopupMenu1	#tag Event		Sub Change()		  app.prefs.root.SetInteger("Player", me.ListIndex)		End Sub	#tag EndEvent	#tag Event		Sub Open()		  me.ListIndex = app.prefs.root.GetInteger("Player",0)		End Sub	#tag EndEvent#tag EndEvents